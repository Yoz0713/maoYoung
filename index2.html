<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>demo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2&family=Lora:wght@400;500&family=Noto+Serif+TC:wght@200;300;400;500;600;700;900&family=Roboto+Mono:wght@100;200;300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.2.3/swiper-bundle.css">
    <link rel="stylesheet" href="./css/all.css">

</head>

<body>
    <div class="first-page">
        <video src="./video1.mp4" loop autoplay muted playsinline></video>
        <div class="speaker">
            <img src="./audioOff.svg" class="off active">
            <img src="./audioOn.svg" class="on">
        </div>
    </div>

    <div class="second-half-page">
        <div class="left">
            <div class="imgBox">
                <img src="./img/jpg/second-half-page-bg1.jpg">
            </div>
            <div class="titleBox">
                <h2 class="ch">走過12,000個晝夜，<br>
                    點亮近2,000個家庭的暖心燈火</h2>
                <div class="paraBox">
                    <p class="para">
                        從而立邁向不惑之年，茂洋建設不忘建築初心並鑑往知來，取經日本「里山倡議」，<br>
                        主張城市與自然共存，尊重大地紋理，在最適宜的地段、造出最合宜的房子，願成為<br>
                        您與⼭之間，最美好的相遇。
                    </p>
                </div>
            </div>
        </div>
        <div class="right">
            <div class="imgBox">
                <img src="./img/jpg/second-half-page-bg2.jpg">
            </div>
        </div>
        <div class="maoyoung">
            <img src="./img/svg/maoyoung.svg">
            <img src="./img/svg/33.svg">
        </div>
    </div>
    <div class="second-page">
        <div class="bg">
            <img src="./img/jpg/second-page-bg.jpg" class="computer">
            <img src="./img/jpg/second-page-bg-ph.jpg" class="phone">
        </div>
        <div class="swiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <p>齊美</p>
                    <img src="./img/jpg/second-page-swiper1-chimei.png">
                </div>
                <div class="swiper-slide">
                    <p>瑞美</p>
                    <img src="./img/jpg/second-page-swiper2-liumei.png">
                </div>
                <div class="swiper-slide">
                    <p class="young">晴山洋洋</p>
                    <img src="./img/jpg/second-page-swiper3-youngyoung.png">
                </div>
                <div class="swiper-slide">
                    <p>閱美</p>
                    <img src="./img/jpg/second-page-swiper4-yuemei.png">
                </div>
                <div class="swiper-slide">
                    <p>漾世紀</p>
                    <img src="./img/jpg/second-page-swiper5-century.png">
                </div>
                <div class="swiper-slide">
                    <p>大美</p>
                    <img src="./img/jpg/second-page-swiper6-damei.png">
                </div>

            </div>
        </div>
        <img class="island" src="./img/jpg/second-page-tree.png">
    </div>
    <div class="third-page">
        <div class="titleBox">
            <h2 class="en">Master The Best Time</h2>
            <h2 class="en"> The Best Location.</h2>
        </div>
        <div class="imgBox">
            <img src="./img/jpg/lifefunction.jpg">
        </div>
        <div class="seagullBox">
            <img src="./img/svg/seagull1.svg">
            <img src="./img/svg/seagull2.svg">
            <img src="./img/svg/seagull1.svg">
            <img src="./img/svg/seagull2.svg">
        </div>
    </div>
    <div class="forth-page">
        <div class="titleBox">
            <h2 class="ch">縱橫交通之核<br>
                近享中科-東海地利之便</h2>
            <div class="paraBox">
                <p class="para">正處縱橫之心的東海商圈，受惠向上路、台灣大道雙交通命脈而蓬勃發展，<br>
                    更因周邊空港、雙國道等完善路網簇擁而享有地利之便，未來再迎特五號<br>
                    開通引流科技新貴西進，為周邊房價再注入活水!</p>
            </div>
        </div>
        <div class="swiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <img src="./img/jpg/forth-page-swiper1.jpg">
                    <div class="box">
                        <p class="minute"><span>3</span>mins</p>
                        <p class="thumb">國道三號龍井交流道實景圖</p>
                    </div>
                </div>
                <div class="swiper-slide">
                    <img src="./img/jpg/forth-page-swiper2.jpg">
                    <div class="box">
                        <p class="minute"><span>2</span>mins</p>
                        <p class="thumb">特五號道路實景圖</p>
                    </div>
                </div>
                <div class="swiper-slide">
                    <img src="./img/jpg/forth-page-swiper3.jpg">
                    <div class="box">
                        <p class="minute"><span>2</span>mins</p>
                        <p class="thumb">向上路實景圖</p>
                    </div>
                </div>
                <div class="swiper-slide" class="computer">
                    <img src="./img/jpg/forth-page-swiper1.jpg">
                    <div class="box">
                        <p class="minute"><span>3</span>mins</p>
                        <p class="thumb">國道三號龍井交流道實景圖</p>
                    </div>
                </div>
                <div class="swiper-slide" class="computer">
                    <img src="./img/jpg/forth-page-swiper2.jpg">
                    <div class="box">
                        <p class="minute"><span>2</span>mins</p>
                        <p class="thumb">特五號道路實景圖</p>
                    </div>
                </div>
                <div class="swiper-slide" class="computer">
                    <img src="./img/jpg/forth-page-swiper3.jpg">
                    <div class="box">
                        <p class="minute"><span>2</span>mins</p>
                        <p class="thumb">向上路實景圖</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="fifth-page">
        <div class="titleBox">
            <h2 class="ch">東海書香文教區 科技菁英移居城</h2>
            <div class="paraBox">
                <p class="para">藝文風氣鼎盛、欣欣向榮的東海商圈，喜迎科技新貴!2分鐘-東海商圈輕鬆掌握，<br>10分鐘-家樂福、JMall、榮總+澄清醫院滿足所有生活所需，菁英生活圈完美成形。</p>
            </div>
        </div>
        <div class="bg">
            <div class="imgBox">
                <img src="./img/jpg/fifth-page-bg1.jpg" class="computer">
                <img src="./img/jpg/fifth-page-bg1-ph.jpg" class="phone">
            </div>
            <div class="imgBox">
                <img src="./img/jpg/fifth-page-bg2.jpg" class="computer">
                <img src="./img/jpg/fifth-page-bg2-ph.jpg" class="phone">
            </div>
            <div class="imgBox">
                <img src="./img/jpg/fifth-page-bg3.jpg" class="computer">
                <img src="./img/jpg/fifth-page-bg3-ph.jpg" class="phone">
            </div>
            <div class="imgBox">
                <img src="./img/jpg/fifth-page-bg4.jpg" class="computer">
                <img src="./img/jpg/fifth-page-bg4-ph.jpg" class="phone">
            </div>
            <div class="imgBox">
                <img src="./img/jpg/fifth-page-bg5.jpg" class="computer">
                <img src="./img/jpg/fifth-page-bg5-ph.jpg" class="phone">
            </div>
            <div class="imgBox">
                <img src="./img/jpg/fifth-page-bg6.jpg" class="computer">
                <img src="./img/jpg/fifth-page-bg6-ph.jpg" class="phone">
            </div>
            <div class="imgBox computer">
                <img src="./img/jpg/fifth-page-bg7.jpg">
            </div>
        </div>
        <div class="titleBox">
            <h2 class="en">A Literary Education City </h2>
            <h2 class="en">That Attracts Tech Elite Migration.</h2>
        </div>
    </div>
    <div class="sixth-page">
        <div class="titleBox">
            <h2 class="en">Prime Location </h2>
            <h2 class="en">For Luxury Living Area.</h2>
        </div>
        <div class="left">
            <div class="titleBox ">
                <h2 class="ch">輕奢自住 新東京里山文旅</h2>
                <div class="paraBox">
                    <p class="para">將日系簡約結合山的紋理，揉合出最融洽的一席佳作；<br>
                        頂樓花園與不遠處的連綿山巒相映成趣，誠摯地邀請綠<br>
                        意至府上作客，如同里山典範，居住精華地段，也能享<br>
                        有永續森活。</p>
                </div>
            </div>
        </div>

        <div class="imgBox">
            <div class="box">
                <img src="./img/jpg/night-view.jpg">
                <span class="night-thumb">夜景外觀3D示意圖</span>
            </div>
            <div class="box">
                <img src="./img/jpg/sun-view.jpg">
                <span class="sun-thumb">日景外觀3D示意圖</span>
            </div>
            <div class="dragBar">
                <p>
                    < </p>
                        <p>></p>
            </div>
        </div>
    </div>
    <div class="seventh-page">
        <div class="top">
            <div class="titleBox">
                <h2 class="en">Design That Makes</h2>
                <h2 class="en">A Good Impression On All Ages.</h2>
            </div>
            <div class="titleBox">
                <h2 class="ch">全齡共享 12項好感設計公設</h2>
                <div class="paraBox">
                    <p class="para">住戶體驗出發、實用本位至上、精心策畫12項全齡化公設，步入氣派大廳-<br>
                        彷彿踏入日本皇居旁的虹夕諾雅五星級飯店，讓回家也成為一種享受，不僅<br>
                        令人放鬆卸下一襲疲倦，更忘卻門外的喧譁嘈雜。</p>
                </div>
            </div>
        </div>
        <div class="bottom">
            <div class="imgBox">
                <img src="./img/jpg/seventh-page-bg1.jpg">
                <span>氣派大廳3D示意圖</span>
            </div>
            <div class="imgBox">
                <img src="./img/jpg/seventh-page-bg2.jpg">
                <span>文旅俱樂部3D示意圖</span>
            </div>
            <div class="imgBox">
                <img src="./img/jpg/seventh-page-bg3.jpg">
                <span>喬山健身房3D示意圖</span>
            </div>
            <div class="imgBox">
                <div class="box">
                    <img src="./img/jpg/seventh-page-bg4.jpg">
                    <span>氣派大廳3D示意圖</span>
                </div>
                <img src="./img/svg/seventh-page-smallpara.svg" class="seventh-page-small-text">
            </div>
            <div class="imgBox">
                <img src="./img/jpg/seventh-page-bg3.jpg">
                <span>耕讀圖書館3D示意圖</span>
            </div>
        </div>
    </div>

</body>
<script src="./drag.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/9.2.3/swiper-bundle.min.js"></script>
<script>
    window.onload = () => {
        const speaker = document.querySelector(".speaker");
        const video = document.querySelector("video")
        const on = document.querySelector(".on")
        const off = document.querySelector(".off")
        let flag = false
        speaker.addEventListener("click", (e) => {
            flag = !flag;
            if (flag) {
                on.classList.add("active")
                off.classList.remove("active")
                video.muted = false
            } else {
                off.classList.add("active")
                on.classList.remove("active")
                video.muted = true
            }
        })
        function seaGullAnimation() {
            let gg = gsap.timeline({ repeat: -1 })
            gg.from(".seagullBox :nth-child(1)", {
                opacity: 0,
                x: 10,
                y: 10,
                duration: 1.2
            }).from(".seagullBox :nth-child(3)", {
                opacity: 0,
                x: 10,
                y: 10,
                duration: 1.2
            }, "<+0.3").to(".seagullBox :nth-child(1)", {
                opacity: 0,
                duration: 1
            }, "<+0.3").from(".seagullBox :nth-child(2)", {
                opacity: 0,
                x: 10,
                y: 10,
                duration: 1.2
            }, "<+0.2").to(".seagullBox :nth-child(3)", {
                opacity: 0,
                duration: 1
            }, "<+0.3").from(".seagullBox :nth-child(4)", {
                opacity: 0,
                x: 10,
                y: 10,
                duration: 1.2
            }, "<+0.4").to(".seagullBox :nth-child(2)", {
                opacity: 0,
                duration: 1
            }, "<-0.1").to(".seagullBox :nth-child(4)", {
                opacity: 0,
                duration: 1
            }, "<+0.4")


        }
        seaGullAnimation()

        function swiper() {
            const swiper1 = new Swiper('.second-page .swiper', {
                speed: 1000,
                slidesPerView: 1,
                enabled: false,
                breakpoints: {
                    821: {  //当屏幕宽度大于等于768 
                        slidesPerView: 6,
                        freeMode: true,
                        enabled: true,
                    },
                }
            })

            const swiper2 = new Swiper('.forth-page .swiper', {
                speed: 1000,
                slidesPerView: 1,
                loop: true,
                breakpoints: {
                    821: {
                        slidesPerView: 3,
                        centeredSlides: true,
                    },

                }
            })
        }
        swiper()

        function thirdPageCenter() {
            const wrapper = document.querySelector(".third-page .imgBox")
            const target = document.querySelector(".third-page .imgBox img")
            setTimeout(() => {
                wrapper.scrollTo(target.clientWidth * 0.33, 0)
            }, 0)

        }
        thirdPageCenter()

        drag(".sixth-page .imgBox", ".sixth-page .imgBox .dragBar", ".sixth-page .imgBox > :nth-child(2)")

        function firstPageAnimation() {
            let gg = gsap.timeline()

            gg.from(".first-page video", {
                scale: 1.1,
                duration: 2,
                opacity: 0,
            })
        }
        firstPageAnimation()

        //windowSize = ture = 手機板
        let windowSize;
        if (window.innerWidth >= 821) {
            windowSize = false
        } else {
            windowSize = true
        }

        function halfPageAnimation() {
            let gg = gsap.timeline({
                scrollTrigger: {
                    trigger: ".second-half-page",
                    start: `top 65%`,
                    toggleActions: "play none none reverse"
                }
            })
            gg.from(".second-half-page .right .imgBox img", {
                opacity: 0,
                x: 60,
                duration: 1.2
            }).from(".second-half-page .left", {
                opacity: 0,
                x: -60,
                duration: 1.2
            }, "<")

            let gg2 = gsap.timeline({
                scrollTrigger: {
                    trigger: ".second-half-page",
                    start: `center ${windowSize ? "center" : "100%"}`,
                    scrub: 1,
                    pin: windowSize ? true : false,
                    markers: true,
                    end: `+=${window.innerHeight * 0.8}`,
                }
            })

            gg2.from(".second-half-page .maoyoung > :nth-child(1)", {
                opacity: 0,
                x: 60,
                duration: 1
            }).from(".second-half-page .maoyoung > :nth-child(2)", {
                opacity: 0,
                x: -60,
                duration: 1
            }, "<").from(".second-half-page", {
                duration: 1
            })
        }
        halfPageAnimation()

        function secondPageAnimation() {

            if (windowSize) {
                const slides = document.querySelectorAll(".second-page .swiper-slide")
                let gg = gsap.timeline({
                    scrollTrigger: {
                        trigger: ".second-page",
                        start: `center center`,
                        scrub: 1,
                        pin: true,
                        end: `+=${window.innerHeight * 2.5}`,
                        markers: true,

                    }
                })

                for (let i = 1; i < slides.length; i++) {
                    gg.to('.second-page .swiper-wrapper', {
                        x: `-${i}00%`,
                        duration: 1
                    });
                }
            } else {
                let gg = gsap.timeline({
                    scrollTrigger: {
                        trigger: ".second-page",
                        start: `center 100%`,
                        toggleActions: "play none none reverse"
                    }
                })
                gg.from(".second-page .bg", {
                    opacity: 0,
                    y: 35,
                    duaration: 1.4
                }).from(".second-page .island", {
                    opacity: 0,
                    duaration: 1.2
                }, "<+0.6").from(".second-page .swiper-wrapper > :nth-child(odd)", {
                    opacity: 0,
                    y: 30,
                    duaration: 1.2,
                    stagger: 0.15
                }, "<+0.6").from(".second-page .swiper-wrapper > :nth-child(even)", {
                    opacity: 0,
                    y: 30,
                    duaration: 1.2,
                    stagger: 0.15
                }, ">-0.2").from(".second-page .swiper-wrapper .swiper-slide p", {
                    opacity: 0,
                    y: 30,
                    duaration: 0.6,
                    stagger: 0.15
                }, "<+0.5")
            }

        }
        secondPageAnimation()
    }
</script>

</html>